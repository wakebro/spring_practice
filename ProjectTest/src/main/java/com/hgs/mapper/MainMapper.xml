<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hgs.mapper.MainMapper">
	<!-- 유저 정보 가져오기 -->
	<select id="getUserInfo" resultType="com.hgs.domain.UserVO">
		SELECT * FROM user_info WHERE u_id=#{u_id}
	</select>
	
	<!-- 관심사 카테고리 가져오기 -->
	<select id="getInterest" resultType="com.hgs.domain.InterestVO">
		SELECT * FROM interest_category
	</select>
	
	<!-- 모임 리스트 가져오기 -->
	<select id="getListMeet" resultType="com.hgs.domain.MeetVO">
		SELECT * FROM meet
	</select>
	
	<!-- 모임 디테일 가져오기 -->
	<select id="getDetailMeet" resultType="com.hgs.domain.MeetVO">
		<!-- SELECT * FROM meet WHERE m_num=#{m_num} -->
		SELECT meet.*, interest_category.i_cate_name FROM meet INNER JOIN interest_category 
    	ON meet.i_cate_num=interest_category.i_cate_num WHERE m_num=#{m_num}
	</select>
	
	<!-- 모임 생성 -->	
	<insert id="insertMeet">
		INSERT INTO 
		meet(m_num, m_name, m_content, m_people_cnt, m_area, m_profile, i_cate_num, u_id)
		VALUES(MEET_SEQ.nextval, #{m_name}, #{m_content}, #{m_people_cnt}, #{m_area}, #{m_profile}, #{i_cate_num}, #{u_id})
	</insert>
	
	<!-- 모임 삭제 -->
	<delete id="removeMeet">
		DELETE FROM meet WHERE m_num=#{m_num}
	</delete>
	
	
</mapper>
